‚öôÔ∏è Fluxo de C√°lculo ‚Äì Etapas T√©cnicas
1. Custo da Equipe (por tarefa)
Para cada etapa adicionada no or√ßamento:

plaintext
Copiar
Editar
custo_tarefa = horas_estimadas √ó valor_hora_colaborador
Soma de todas as tarefas:

plaintext
Copiar
Editar
custo_total_equipe = Œ£ custo_tarefa
2. Custo do Escrit√≥rio (proporcional)
Usu√°rio configura seus custos fixos e vari√°veis mensais.
O sistema calcula o custo m√©dio por hora do escrit√≥rio:

plaintext
Copiar
Editar
custo_hora_escritorio = total_custos_mensais / horas_produtivas_mensais
Depois:

plaintext
Copiar
Editar
horas_totais_estimadas = Œ£ horas_estimadas_todas_as_tarefas

custo_escritorio_total = horas_totais_estimadas √ó custo_hora_escritorio
3. Custos Extras do Projeto (valores avulsos)
Soma dos valores inseridos pelo usu√°rio:

plaintext
Copiar
Editar
custo_extras_total = visita + impress√£o + transporte + taxas + outros
4. Custo Real do Projeto (sem ajustes)
plaintext
Copiar
Editar
custo_base = custo_total_equipe + custo_escritorio_total + custo_extras_total
5. Aplicar Ajustes T√©cnicos (Grupo 1 - sobre custo base)
Percentuais sobre o custo_base:

plaintext
Copiar
Editar
ajuste_complexidade = custo_base √ó (complexidade% / 100)
ajuste_reserva_tecnica = custo_base √ó (reserva_tecnica% / 100)
ajuste_pentelhice = custo_base √ó (pentelhice% / 100)
ajuste_extras = valor_fixo ou custo_base √ó (% extra)

custo_com_ajustes = custo_base + todos os ajustes acima
6. Aplicar Lucro (Grupo 2 - sobre custo com ajustes)
plaintext
Copiar
Editar
lucro = custo_com_ajustes √ó (lucro_desejado% / 100)

valor_intermediario = custo_com_ajustes + lucro
7. C√°lculo Reverso para Impostos e Cart√£o
Aqui entra o diferencial estrat√©gico da ConectaWorking.

Se houver taxa de imposto e/ou cart√£o, o sistema n√£o pode simplesmente somar o percentual, pois isso geraria preju√≠zo.
Deve-se aplicar c√°lculo reverso para embutir essas taxas corretamente.

F√≥rmula do c√°lculo reverso:

plaintext
Copiar
Editar
valor_final = valor_intermediario / (1 - ((taxa_cartao% + impostos%) / 100))
‚úÖ Resultado final apresentado:
Valor ideal sugerido: o valor final calculado com todos os ajustes

Valor m√≠nimo permitido: o custo real sem lucro

Margem de lucro real final: lucro final ap√≥s impostos e taxas

Comparativo valor por hora vs. valor por m¬≤:

IA mostra alerta se valor por m¬≤ for menor que custo real por hora

üìå Exemplo pr√°tico simplificado
Custo total da equipe: R$ 6.000

Custo do escrit√≥rio: R$ 1.500

Custos extras: R$ 500

Custo base = R$ 8.000

Aplicar ajustes:

Complexidade 10% ‚Üí +R$ 800

Reserva t√©cnica 15% ‚Üí +R$ 1.200

Pentelhice 5% ‚Üí +R$ 400

Custo com ajustes = R$ 10.400

Lucro desejado: 30% ‚Üí +R$ 3.120
Valor intermedi√°rio = R$ 13.520

Impostos + cart√£o = 15%
‚Üí Reverso:

plaintext
Copiar
Editar
valor_final = 13.520 / (1 - 0.15) = R$ 15.905
üîê Regras de seguran√ßa obrigat√≥rias
O valor final nunca pode ser menor que o custo base

A IA sempre alerta o usu√°rio se a margem final for inferior ao desejado

Se o usu√°rio der desconto, o sistema recalcula a margem e pede valida√ß√£o

Todos os campos calculados devem ser exibidos para o usu√°rio com transpar√™ncia

Se quiser, posso transformar isso em:

üåê um diagrama de fluxo visual

üìÑ um PDF de l√≥gica t√©cnica

üßÆ um exemplo simulado com interface em wireframe